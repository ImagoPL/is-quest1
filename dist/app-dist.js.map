{"version":3,"sources":["..\\src\\app.js"],"names":["App","canvas","SVG","size","fill","circleSize","listParent","document","getElementById","listenToClick","click","e","dotLocation","getClickLocation","x","y","createNewDot","event","offsetX","offsetY","adjustX","adjustY","color","randomizeColor","dot","circle","move","createNewListElement","node","id","listItem","createElement","putListItem","appendChild","setAttribute","createTextNode","deleteBtn","colorBtn","popDot","removeDot","createdDotsListEls","getElementsByTagName","key","hasOwnProperty","el","addEventListener","target","get","className","scale","parent","newColor","remove","parentNode","removeChild","letters","i","Math","floor","random","app","init"],"mappings":"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","sourcesContent":["class App {\n\n    constructor() {\n        this.canvas = SVG('canvas').size('500', '500').fill('#000');\n        this.circleSize = 10;\n        this.listParent = document.getElementById('dots');\n    }\n\n\n    /**\n     * initialise this shit\n     * \n     * @memberof App\n     */\n    init() {\n        this.listenToClick();\n    }\n\n\n    /**\n     * listen to f** clicks\n     * \n     * @memberof App\n     */\n    listenToClick() {\n        this.canvas.click((e) => {\n            const dotLocation = this.getClickLocation(e);\n            const { x, y } = dotLocation; // destruction, yay\n            this.createNewDot(x, y);\n        });\n    }\n\n\n    /**\n     * get the f*** click location\n     * \n     * @param {obj} event \n     * @returns obj\n     * @memberof App\n     */\n    getClickLocation(event) {\n        return {\n            x: event.offsetX,\n            y: event.offsetY,\n        };\n    }\n\n\n    /**\n     * creates new f*** dot, you moron\n     * \n     * @param {number} x \n     * @param {number} y \n     * @memberof App\n     */\n    createNewDot(x, y) {\n        // adjust position to be sure that dot generates precisely on mouse cursor center\n        const adjustX = x - (this.circleSize / 2);\n        const adjustY = y - (this.circleSize / 2);\n        \n        const color = this.randomizeColor();\n        const dot = this.canvas.circle(this.circleSize).fill(color).move(adjustX, adjustY);\n        this.createNewListElement(color, dot.node.id);\n    }\n\n\n    /**\n     * as in method name\n     * \n     * @param {string} color \n     * @param {number} id \n     * @memberof App\n     */\n    createNewListElement(color, id) {\n        const listItem = document.createElement('li');\n\n        // put new list item\n        const putListItem = this.listParent.appendChild(listItem);\n        putListItem.setAttribute('class', id);\n        putListItem.appendChild(document.createTextNode('Dot #' + id));\n\n        // put delete button\n        const deleteBtn = putListItem.appendChild(document.createElement('button'));\n        deleteBtn.setAttribute('class', 'delete');\n        deleteBtn.appendChild(document.createTextNode('usuÅ„'));\n\n        // put rand color button\n        const colorBtn = putListItem.appendChild(document.createElement('button'));\n        colorBtn.setAttribute('class', 'randcolor');\n        colorBtn.appendChild(document.createTextNode('losuj kolor'));\n\n        // fire some things\n        this.popDot();\n        this.removeDot();\n    }\n\n\n    /**\n     * pops dot on svg and handles some events\n     * \n     * @memberof App\n     */\n    popDot() {\n        const createdDotsListEls = this.listParent.getElementsByTagName('li');\n        for (let key in createdDotsListEls) {\n            if (!createdDotsListEls.hasOwnProperty(key)) continue;\n            const el = createdDotsListEls[key];\n            el.addEventListener('mousemove', (e) => {\n                if(el === e.target) {\n                    const target = SVG.get(e.target.className);\n                    target.scale(3);\n                }\n            });\n            el.addEventListener('mouseout', (e) => {\n                if(el === e.target) {\n                    const target = SVG.get(e.target.className);\n                    target.scale(1);\n                }\n            });\n            el.addEventListener('mousedown', (e) => {\n                const parent = el;\n                if(e.target.className == 'randcolor') {\n                    const target = SVG.get(el.className);\n                    const newColor = this.randomizeColor();\n                    target.fill(newColor);\n                }\n            });\n        }\n    }\n\n\n    /**\n     * removes f*** dot\n     * \n     * @memberof App\n     */\n    removeDot() {\n        const createdDotsListEls = this.listParent.getElementsByTagName('li');\n\n        // Something is seriously f**ked below, but I not have time to deal with it for now\n        for (let key in createdDotsListEls) {\n            if (!createdDotsListEls.hasOwnProperty(key)) continue;\n            const el = createdDotsListEls[key];\n            el.addEventListener('mouseup', (e) => {\n                if(e.target.className == 'delete') {\n                    const target = SVG.get(el.className);\n                    target.remove();\n                    el.parentNode.removeChild(el);\n                }\n            });\n        }\n    }\n\n\n    /**\n     * generates random color\n     * \n     * @returns string\n     * @memberof App\n     */\n    randomizeColor() {\n        const letters = '0123456789ABCDEF';\n        let color = '#';\n        for (let i = 0; i < 6; i++) {\n            color += letters[Math.floor(Math.random() * 16)];\n        }\n        return color;\n    }\n\n}\n\n// Run this crap\nconst app = new App;\napp.init();"]}